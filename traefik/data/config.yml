http:
  # middlewares:
  #   https-redirect:
  #     redirectScheme:
  #       scheme: https

  #   default-headers:
  #     headers:
  #       frameDeny: true
  #       sslRedirect: true
  #       browserXssFilter: true
  #       contentTypeNosniff: true
  #       forceSTSHeader: true
  #       stsIncludeSubdomains: true
  #       stsPreload: true

  #   secure-headers:
  #     headers:
  #       browserXssFilter: true
  #       contentTypeNosniff: true
  #       frameDeny: true
  #       sslRedirect: true
  #       stsIncludeSubdomains: true
  #       stsPreload: true
  #       stsSeconds: 31536000
  #       customFrameOptionsValue: "SAMEORIGIN"

  #   default-whitelist:
  #     ipWhiteList:
  #       sourceRange:
  #         - "10.0.0.0/8"
  #         - "192.168.0.0/16"
  #         - "172.16.0.0/12"

  #   secured:
  #     chain:
  #       middlewares:
  #         - default-whitelist
  #         - default-headers

  middlewares:
    secured:
      chain:
        middlewares:
          - https-only
          - known-ips
          - default-headers

    https-only:
      redirectScheme:
        scheme: https

    known-ips:
      ipWhiteList:
        sourceRange:
          - "192.168.1.7"
          - "127.0.0.1/32"

    default-headers:
      headers:
        frameDeny: true
        sslRedirect: true
        browserXssFilter: true
        contentTypeNosniff: true
        forceSTSHeader: true
        stsIncludeSubdomains: true
        stsPreload: true

    secure-headers:
      headers:
        browserXssFilter: true
        contentTypeNosniff: true
        frameDeny: true
        sslRedirect: true
        stsIncludeSubdomains: true
        stsPreload: true
        stsSeconds: 31536000
        customFrameOptionsValue: "SAMEORIGIN"